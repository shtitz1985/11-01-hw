# `Домашнее задание к занятию 11.1. «Базы данных, их типы» - Зозуля Максим`

---

### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

```
Для бюджетирования проектов и формирования финансовых отчетов и прогнозирования рисков лучше всего использовать реляционные СУБД, такие как PostgreSQL, MySQL или Oracle. Они обеспечивают высокую целостность данных и имеют четкую структуру, что позволяет легко отслеживать изменения и проводить анализ.

```

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

```
Для лендингов и CRM лучше всего использовать нереляционные СУБД, такие как MongoDB. Они обладают высокой гибкостью и могут быстро обрабатывать большие объемы данных, что является важным фактором при работе с лидами и клиентами.
```

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.

```
Для CRM лучше всего использовать реляционную СУБД к примеру MySQL. 
Для любого бизнеса, использующего CRM, база данных, связанная с клиентом, 
очень важна для придания стратегии и тактики, основанной на клиентах. 
С помощью языка SQL можно провести аналитику поведения клиента, оптимизировать бизнес-процессы и т.д. 
```

```
Для Лендинга хранение информации в базе данных SQLite. 
В SQLite данные хранятся в файлах. 
В отличие от более «серьезных» БД таких, как MySQL, например, сервер не требуется.
```

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

```
Возможно использовать одну СУБД для лендингов и CRM, например, MongoDB. Однако, для достижения максимальной производительности, необходимо правильно настроить индексы и шардинг.
```

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

```
Для отдела контроля качества подойдут реляционные СУБД, такие как MySQL или PostgreSQL. Они имеют простую и понятную структуру, что облегчает работу с данными.
```

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?

```
Можно использовать уже существующую СУБД, например, PostgreSQL. Для этого необходимо создать новые таблицы, которые будут содержать данные по корпоративным нормам и правилам, обучающему материалу и т.д., и настроить соответствующие индексы.
```

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

```
Для департамента логистики подойдут графовые СУБД. Они хорошо работают со связями и могут быстро формировать маршруты доставки материалов и распределять курьеров.
```

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

```
Можно.
```

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

```
Модульная база данных SingleStore, допускающая распределение баз данных по нескольким узлам, 
поддерживает принципы ACID, язык SQL. Позиционируется как система класса NewSQL — сочетающая принципы 
горизонтальной масштабируемости NoSQL-систем и транзакционные свойства и функции классических реляционных СУБД.
Или база данных с открытым исходным кодом, чтобы подстроить ее под себя.
```

*Приведите ответ в свободной форме.*

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.

```
1. Аутентификация пользователя: система должна проверить, что пользователь имеет право осуществлять платеж и что он имеет достаточный баланс на своём счёте.

2. Создание транзакции: система должна создать запись о транзакции в базе данных и присвоить ей уникальный идентификатор.

3. Блокировка средств: система должна временно заблокировать средства на балансе пользователя, чтобы они не были доступны для других транзакций до завершения текущей.

4. Передача данных в платёжную систему: система должна отправить запрос на проведение платежа в платёжную систему, указав сумму и номер телефона, на который будет произведено пополнение.

5. Обработка ответа от платёжной системы: система должна получить ответ от платёжной системы о том, что транзакция была проведена успешно или о возникших ошибках.

6. Обновление баланса и фиксация транзакции: если платёж был успешно проведён, система должна обновить баланс пользователя и разблокировать заблокированные средства. Затем система должна записать информацию о транзакции в базу данных и завершить транзакцию.
```

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

```
1. Система автоматически проверяет наличие достаточной суммы на банковском счете пользователя.

2. Если на банковском счете есть достаточная сумма, то происходит автоматический перевод средств на счёт телефона.

3. Система автоматически фиксирует успешную транзакцию и производит запись в журнале транзакций.

4. Система отправляет уведомление пользователю о том, что его баланс был успешно пополнен.

5. Система обновляет информацию о балансе на счёте телефона пользователя.

6. Система отправляет информацию о транзакции в бухгалтерию для учёта расходов и доходов компании.

Если на банковском счете пользователя недостаточно средств, то транзакция не будет выполнена и система отправит уведомление пользователю о неудачной операции.
```

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 

```
1. Более надежная целостность данных благодаря возможности использования транзакций.
2. Простота в использовании и настройке, так как SQL-системы имеют стандартизированный язык запросов.
3. Более высокая скорость чтения и записи данных при работе с небольшими объемами данных.
4. SQL-системы имеют богатый функционал для работы с данными, такой как операции слияния, группировки, сортировки, агрегации и т.д.
5. Более высокий уровень защиты данных благодаря поддержке полноценной системы авторизации и аутентификации пользователей.
```

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

```
NewSQL — это уникальная система баз данных, которая сочетает в себе совместимость с ACID 
и горизонтальное масштабирование . Система базы данных стремится сохранить лучшее из обоих миров. 
Транзакции на основе OLTP и высокая производительность NoSQL сочетаются в одном решении.
```

---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу 
выделено 1000 машин. 

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* 
здесь справится лучше всего и почему?

```
Для данной задачи на основе критерия масштабируемости и возможности обработки больших объемов данных на 1000 машинах, стоит выбирать NoSQL-СУБД и модель распределённых вычислений на основе MapReduce.

NoSQL-СУБД обычно хорошо масштабируются горизонтально и предназначены для хранения и обработки больших объемов неструктурированных и полуструктурированных данных. Они также позволяют быстро и эффективно обрабатывать данные с помощью распределенной обработки запросов. Кроме того, они позволяют расширяться горизонтально, добавляя новые узлы к кластеру, когда это необходимо.

Модель MapReduce, разработанная Google, была создана для обработки больших объемов данных на кластерах с десятками и тысячами узлов. Она работает на основе принципа разделения и властвования, разбивая задачу на множество маленьких задач, которые затем обрабатываются параллельно на узлах кластера, а затем объединяются в итоговый результат. Эта модель хорошо подходит для анализа больших объемов данных и позволяет производить вычисления на тысячах машин одновременно.
```

